<h1 id="highly-available-jupyterhub-proxy-with-traefik">Highly-available JupyterHub proxy with Traefik</h1>
<h2 id="long-description">Long Description</h2>
<p>JupyterHub uses a <strong>proxy</strong> to direct incoming user requests to notebook servers. A proxy's <em>routing table</em> determines which requests are sent where. For example, if user <code>userA</code>'s notebook server is available at the address <code>10.0.1.2:8000</code>, the routing table should contain a mapping <code>/user/userA</code> -&gt; <code>10.0.1.2:8000</code>. For each request, the proxy determins the URL, consults this routing table &amp; directs the request to appropriate address.</p>
<p>As users start / stop their servers, JupyterHub must dynamically modify the routing table to add / remove routes. Modifying the routing table should also not cause disruption to requests currently being processed.</p>
<p><a href="https://github.com/jupyterhub/configurable-http-proxy">configurable-http-proxy</a> is currently the most used proxy implementation for JupyterHub. The routing table is kept in-memory, which means you can only run a single copy of <code>configurable-http-proxy</code> at a time. If the proxy process is disrupted for some reason (the node it is running on goes down, it uses too much memory, etc), the whole JupyterHub is unavailable. This is particularly a problem in dynamic large scale systems like <a href="http://z2jh.jupyter.org">Zero to JupyterHub on Kubernetes</a>, where nodes dynamically come and go.</p>
<p>In this project, you will implement a <a href="https://github.com/jupyterhub/jupyterhub/blob/master/docs/source/reference/proxy.md">JupyterHub proxy</a> that uses <a href="https://traefik.io/">traefik</a> to do the routing, and <a href="https://coreos.com/etcd/">etcd</a> to store the routing table. This allows multiple copies of the proxy to be running easily, making the proxy highly available. You will also integrate this proxy implementation into our high-scale <a href="https://k8s.io">kubernetes</a> distribution, <a href="http://z2jh.jupyter.org">Zero to JupyterHub on Kubernetes</a>.</p>
<h2 id="how-can-applicants-make-a-contribution-to-the-project">How can applicants make a contribution to the project?</h2>
<p>We require students finish at least one project-specific microtask before they apply. <a href="https://github.com/jupyterhub/outreachy/labels/project-treafik-proxy" class="uri">https://github.com/jupyterhub/outreachy/labels/project-treafik-proxy</a> lists the various microtasks that are specific to this project. You should complete at least one of them. Comment on the issue, or reach out to us at <a href="https://gitter.im/jupyterhub/jupyterhub" class="uri">https://gitter.im/jupyterhub/jupyterhub</a> for help!</p>
<p>Remember that we do not expect you to already have <strong>all</strong> the skills required to complete the tasks. Ask and we shall help!</p>
<h2 id="intern-benefits">Intern Benefits</h2>
<p>You'll learn important development skills in this project:</p>
<ol style="list-style-type: decimal">
<li>Asynchronous programming with Python</li>
<li>Modeling &amp; building distributed systems</li>
<li>Tradeofss between simplicity, high-availability &amp; latency in distributed systems</li>
<li>Direct experience with modern large scale system tools, such as Kubernetes, etcd &amp; treafik.</li>
</ol>
<p>You'll also learn to work with a distributed community of people in various fields from across the world. Your work will be featured prominently on the <a href="https://blog.jupyter.org">Project Jupyter Blog</a>, and lots of people around the world will likely use this proxy in many ways.</p>
<h2 id="community-benefits">Community Benefits</h2>
<p>JupyterHub is gaining adoption in large scale deployments that place a lot of value in highly available systems. The ability to make use of a highly-available proxy would be a big step in that direction. In the long term, it reduces the total amount of code the community will have to maintain, and leverage improvements in the traefik / etcd communities easily. There will also be other performance &amp; reliability improvements as a side effect of this change.</p>
